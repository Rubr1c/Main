package edgeGame;

import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.event.ActionEvent;
import javafx.event.EventHandler;
import javafx.fxml.FXML;
import javafx.geometry.Bounds;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.input.MouseEvent;
import javafx.scene.layout.AnchorPane;
import javafx.scene.shape.Rectangle;
import javafx.util.Duration;

import java.awt.AWTException;
import java.awt.Robot;

public class levelController {
	
	@FXML
	private AnchorPane levelOnePane;
	
	@FXML
    private Button startButtonOne;
	
	@FXML
	private Label youLost1;
	
	@FXML
	private Rectangle b0;
	
	@FXML
	private Rectangle b1;
	
	@FXML
	private Rectangle b2;
	
	@FXML
	private Rectangle b3;
	
	public boolean start = false;
	
	
	
	@FXML
    private void startLevelOne(ActionEvent event) throws InterruptedException {
		try {
			levelOnePane.getChildren().remove(startButtonOne);
            Robot robot = new Robot();

            int targetX = 50;
            int targetY = 410;
            
            robot.mouseMove(targetX, targetY);
            
            start = true;
            
            Duration delay = Duration.millis(500); // Adjust the duration as needed
            Timeline timeline = new Timeline(new KeyFrame(delay, new EventHandler<ActionEvent>() {
                @Override
                public void handle(ActionEvent event) {
                	endGame1(null);
                }
            }));
            timeline.play();
        } catch (AWTException e) {
            e.printStackTrace();
        }
    }
	
	public void endGame1(MouseEvent event){
		if (start) {
			double mouseX = event.getX();
		    double mouseY = event.getY();

		    System.out.println("Mouse Cursor Location: X=" + mouseX + ", Y=" + mouseY);
			youLost1.setOpacity(1.0);
		} 
		
	}
}